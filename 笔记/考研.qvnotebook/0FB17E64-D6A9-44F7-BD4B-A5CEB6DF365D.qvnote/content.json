{
  "title": "计算机网络",
  "cells": [
    {
      "type": "markdown",
      "data": "## 基本概念\n\n### 名词解释：\n1. 带宽： 表示网络的通信线路所能传送数据的能力\n2. 时延：\n    1. 发送时延=分组长度/信道宽度\n    2. 传播时延=信道长度/电磁波在信道上的传播速率\n    3. 处理时延：数据在交换节点为存储转发而进行的一些必要的处理所花费的时间\n    4. 排队时延：分组进入路由器之后要在输入队列中排队等待处理\n3. 时延带宽积=传播时延$\\times$信道带宽\n4. 往返时延(RTT)：发送数据$\\rightarrow$接受端确认，总共经历的时延\n5. 吞吐量：单位时间内通过某个网络的数据量\n6. 速率：在数字信道上传送数据的速率，又称为`比特率`（bit/s）（b/s）\n\n### 比较：\nISO/OSI参考模型 |TCP/IP模型 |五层模型 |作用 |任务\n----------------|-----------|---------|-----|----\n物理层 <td rowspan=2>网络接口层</td> |物理层 | |透明的传输bit流 \n数据链路层  |数据链路层 |流量控制、差错检测 |为IP数据报组帧传送\n网络层 |网际层 |网络层  |拥塞控制 |负责为分组交换网上的主机提供通信\n传输层 |传输层 |运输层  |TCP流量控制、TCP拥塞控制 |负责从源端到目的端进程间的通信\n会话层 | | | |\n表示层 | |\n应用层 |应用层 |应用层  | |向应用程序提供访问网络的手段\n\n### 小贴士：\n1. 计算机网络使用分层结构的好处：\n   1. 每一层都实现一种相对独立的功能，降低系统的复杂度\n   2. 各层之间界面自然清晰，易于理解，相互交流尽可能的少（降低耦合度）\n   3. 各层功能的精确定义独立于具体的实现方法，可以采用最合适的技术来实现\n   4. 保持下层对上层的独立性，上层单向使用下层提供的服务\n   5. 整个分层结构能够促进标准化工作\n2. 网络的三要素：语法、语义、同步\n\n## 物理层\n### 名词解释：\n1. 数据：传送信息的实体\n2. 信号：数据在传输过程中的存在形式\n3. 码元：在数字通信中常常用时间间隔相同的符号来表示一个k进制数字,这样的时间间隔内的信号称为k进制码元\n4. 信道：信号的传输媒介\n    1. 单工通信：只有一个方向的通信而没有反方向的交互，需要一条信道\n    2. 半双工通信：通信的双方都可以发送或接受消息（不能同时），需要两条信道\n    3. 全双工通信：通信的双方都可以同时的发送和接收消息，需要两条信道\n5. 波特率：单位时间内数字通信系统所传输的码元个数。\n6. 传输介质：\n    1. 双绞线：由两根采用一定规则并排绞合的、相互绝缘的铜线组成\n    2. 同轴电缆：由导体铜质芯线、绝缘层、网状编织屏蔽层和塑料外层构成\n    3. 光纤：光导纤维\n    4. 无线传播介质\n7. 物理层接口的特性：\n    1. 机械特性：定义物理连接的边界点\n    2. 电气特性：规定传输二进制位时，线路上信号的电压高低、阻抗匹配、传输速率和距离限制等\n    3. 功能特性：指明某条线上出现的某一电平的电压表示何种意义，接口部件的信号线的用途\n    4. 规程特性：定义各物理线路的工作规程和时序关系\n\n### 公式：\n1. 奈奎斯特定理：V表示有多少种不同的码元，W为理想低通信道的带宽（Hz）\n\n    理想低通信道下的极限传输率$=2Wlog_2V(b/s)$\n2. 香农定理：S为信道所传输信号的平均功率，N为信道内部的高斯噪声功率\n\n    信道的极限数据传输速率$=Wlog_2(1+S/N)$\n3. 波特率=比特率/$log_2V$\n\n### 比较：\n—— | 电路交换 | 报文交换 | 分组交换\n---|------|------|-----\n优点 |通信时延小；<br>有序传输；<br>没有冲突；<br>适用范围广；<br>实时性强；<br>控制简单； |无需建立连接；<br>动态分配线路；<br>提高线路的可靠性；<br>提高线路利用率；<br>提供多目标服务； |无建立时延；<br>线路利用率高；<br>简化了存储管理（相对于报文交换）；<br>加速传输；<br>减少了出错几率和重发数据量；\n缺点 |建立连接时间长；<br>线路独占，使用效率低；<br>灵活性差；<br>难以规格化； |网络节点需要较大的缓存空间；<br>用于数据进入交换节点后要经历存储、转发过程，从而引起转发时延； |存在传输时延；<br>需要传输额外的信息量；\n适用场景 |传送的数据量大，且传送时间远大于呼叫时间 |端到端的通路由很多段的链路组成 |计算机之间突发式的数据通信\n\n\n—— | 数据报服务 | 虚电路服务\n---|-------|------\n连接建立 |不要 |不要\n目的地址 |每个分组有完整的目的地址 |仅在建立连接阶段使用，之后每个分组使用长度较短的虚电路号\n路由选择 |每个分组独立的进行路由转发和分组 |属于同一虚电路的分组按照同一路由转发\n分组顺序 |不能保证分组有序的到达 |保证分组有序的到达\n可靠性 |不保证可靠性，可靠性由用户主机来保证 |可靠性由网络来保证\n对网络故障的适应性 |出故障的节点丢失分组，其他分组路径选择发生变化，可正常传输 |所有经过故障节点的虚电路均不能正常工作\n差错处理和流量控制 |由用户主机进行流量控制，不保证数据报的可靠性 |可由分组交换网负责，也可由用户主机负责\n### 小贴士：\n1. 以太网使用的是曼侧斯特编码（将一个编码划分成两个相等的间隔）\n2. 信噪比：$S/N=10log_{10}(S/N)dB$\n3. ISO/OSI参考模型在网络层支持无连接和面向连接的通信，在传输层仅支持面向连接的通信；TCP/IP模型在网络层仅有无连接的通信，而在传输层支持无连接和面向连接的通信。\n## 数据链路层\n### 名词解释\n1. 链路管理：数据链路层连接的建立、维持、释放的过程。\n2. 帧：在数据的前后分别添加首部和尾部。\n3. 帧同步：接收方应当能从接收到的二进制比特流中区分出帧的起始和终止。\n4. 透明传输：不管所传数据是怎样的比特组合，都应当能在链路上传送。\n5. 流量控制：控制相邻两节点之间数据链路上的流量。流量控制往往是指给定的发送端和接收端之间的点对点通信控制。流量控制所要做的是抑制发送端发送数据的速率，以便接收端来得及接收。流量控制是一个端到端的问题\n    1. 停止等待协议：发送方每发送一帧，都要等待接受方的应答信号，之后才能发送下一帧。\n    2. 滑动窗口协议：在任意时刻，发送方都维持一组连续的允许发送的帧的序号，称为发送窗口。发送窗口的大小$W_t$代表还没有收到对方确认信息的情况下发送方最多还可以发送多少个数据帧。\n6. 自动重传请求（ARQ）：让发送方将要发送的数据帧附加一定的CRC冗余检错码一并发送，接收方根据检错码对数据帧进行错误检测，若发现错误，则丢弃，发送方超时重传该数据帧。\n7. 组帧：发送方依据一定的规则把网络层递交的分组封装成帧。\n8. 信道利用率：\n9. 信道吞吐率：信道利用率*发送方的发送速率。\n10. 介质访问控制（MAC）：为使用介质的每个节点隔离来自同一信道上其他节点所传送的信号，以协调活动节点的传输。\n    1. 信道划分介质访问控制\n        1. 频分多路复用（FDM）\n        2. 时分多路复用（TDM）\n        3. 波分多路复用（WDM）\n        4. 码分多路复用（CDM）\n    2. 随机访问介质控制\n        1. ALOHA协议\n        2. CSMA（载波侦听多路访问）协议\n        3. CSMA/CD（载波侦听多路访问/碰撞检测）协议\n        4. CSMA/CA（载波侦听多路访问/碰撞避免）协议\n    3. 轮询访问介质控制\n        1. 令牌传递协议\n11. 争用期：以太网端到端的往返时间2$\\tau$，规定值为$\\underline{51.2\\mu s}$\n12. VLAN（虚拟局域网）：虚拟局域网是逻辑划分一些局域网段而构成的与物理位置无关的逻辑组。这些网段具有某些共同的需求。每一个VLAN的帧都有一个明确的标识符，指明发送这个帧的工作站是属于那个VLAN。利用交换机设置实现虚拟局域网，其实只是局域网给用户提供的一种服务，而并不是一种新型局域网。\n\n\n### 公式\n1. 循环冗余码：G(x)为生成表达式，M为待传送数据，r表示G(x)的阶数\n    \n    假设：$G(x)=X^3+X^2+1，r=3，M=101001000$\n\n    除数为1101，被除数为$101001000\\underline{000}$\n\n2. 规格化内积\n\n3. 最小帧长＝总线传播时延$\\times$数据传输速率$\\times$2\n### 比较\n—— | 无确认的无连接服务 | 有确认的无连接服务 | 有确认的面向连接服务\n---|-----------|-----------|-----------\n建立链路连接 |不需要 |不需要 |需要\n目的端发送确认消息 |不需要 |需要 |需要\n适用场景 |实时通信或误码率较低的信道,如以太网 |使用于误码率较高的信道，如无线通信 |适用于通信要求（可靠性、实时性）较高的场合\n\n\n—— | 频分多路复用（FDM） | 时分多路复用（TDM） | 波分多路复用（WDM） | 码分多路复用（CDM）\n---|-------------|-------------|-------------|------------\n实现方式 |将多路基带信号调制到不同频率的载波上再进行叠加形成一个复合信号 |将一条物理信道按时间分成若干个时间片，轮流的分配给多个信号使用 |在一根光纤中传输多种不同波长的光信号 |通过不同的编码来区分各路原始信号\n共享空间 |是 |否 |是 |是\n共享时间 |否 |是 |否 |是\n\n参数 | 10BASE5 | 10BASE2 | 10BASE-T | 10BASE-FL\n---|---------|---------|----------|----------\n传输媒体 |基带同轴电缆（粗） |基带同轴电缆（细） |非屏蔽双绞线 |光线对（850nm）\n编码 |曼彻斯特编码 |曼彻斯特编码 |曼彻斯特编码 |曼彻斯特编码 \n拓扑结构 |总线型 |总线型 |星型 |点对点\n最大段长 |500m |185m |100m |2000m\n最大节点数目 |100 |30 |2 |2\n\n－－ | PPP | HDLC\n---|-----|-----\n数据的传输形式 |面向字节 |面向比特\n协议字段 |当改字段值为0x0021时，表示信息字段是IP数据报 |无\n可靠传输 |不使用序号和确认机制，只保证无差错接收，而端到端差错检测由高层协议负责 |使用编号和确认机制，能提供可靠传输\n### 小贴士\n1. 流量控制限制的是发送方的数据流量\n2. 在旧的OSI体系中，在数据链路层使用HDLC协议而在网络层使用x．25协议，这些协议都有确认机制和窗口机制，因而能够保证可靠传输。但是技术的进步使得链路的传输已经相当可靠了，因此在数据链路层和网络层重复地保证可靠传输就显得多余了。现在因特网在链路层使用的PPP协议和在网络层使用的IP协议都没有确认机制和窗口机制。如果出现差错就由传输层的TCP来处理(若使用UDP协议则传输层也不处理出错的问题)。\n3. 以太网MAC帧最小为`64字节`，其中首部加尾部固定为18个字节。\n4. MAC帧的数据部分，最短长度46字节，最长长度1500字节。\n\n\n## 网络层\n\n### 名词解释\n1. 寻址：选择到达目的IP的最佳路径，由路由选择算法实现\n    1. 直接寻址：源主机和目的主机在相同的网络之中。\n    2. 间接寻址：源主机和目的主机`不在`相同的网络之中\n2. IPV4分组：IP分组由首部和数据部分组成，其中首部结构如下图所示\n"
    },
    {
      "type": "text",
      "data": "<div style=\"text-align: center;\"><img src=\"quiver-image-url/ED04ABF77EF9FED97C61B38BB5B441BA.jpg\" width=\"542\" height=\"225\" style=\"line-height: 1.4;\"></div>"
    },
    {
      "type": "markdown",
      "data": "3. 网络地址转换（NAT）：通过将专用网络地址转化为公用网络地址，从而隐藏了内部管理的IP地址\n4. 距离向量算法：［路由表项目<目的网络N，距离d，下一跳路由器X>］\n    1. 对地址为X的相邻路由器发来的RIP，先修改来自X的报文中的所有项目：把“下一跳”字段中的地址都改为X\n\n### 公式\n\n### 比较\n网络分层 | 网络设备\n-----|-----\n物理层 |中继器、集线器\n数据链路层 |网桥、交换机\n网络层 |路由器\n网络层以上 |网关\n\n－－ | 单播 | 组播 | 多播\n---|----|----|---\n地址范围 |A、B、C类地址|主机号全为1 |D类地址\n\n－－ |距离矢量路由协议|链路状态路由协议\n-----|----------------|----------------\n收敛时间 |周期性更新，收敛慢，甚至需要几分钟 |触发式更新，收敛快，一般为几秒中\n路由环路 |缓慢收敛，容易造成路由表不一致，产生环路 |基于全网的数据库，执行SPF算法，不容易产生环路\n扩展性 |慢速的收敛和平面型的设计限制了网络的规模，不能很大 |快速收敛和层次型的设计，网络规模可以非常大\n\n### 小贴士\n1. 默认路由：转发那些不在路由表中列出的远端目的端口的网络数据包到下一跳路由器。\n2. 特殊IP地址\n    * 主机号全为0：网络本身\n    * 主机号全为1：本网络的广播地址，又称直接广播地址\n    * 32位全为0：本网络上的本主机\n    * 32位全为1：受限广播地址，等效于本网络的广播地址\n3. 以太网的MTU（最大传送单元）为1500字节。\n4. 片偏移以`8个字节`为偏移单位\n5. 标志：最低位MF，MF＝1表示后面还有分片，MF＝0表示是最后一个分片；中间一位是DF，DF＝0时才允许分片。\n6. ICMP报文作为数据字段封装在IP分组中，IP协议能直接为ICMP提供服务。\n\n\n**路由协议：**\n度量值：\n1. 跳数（经过路由器的数量）\n2. 带宽\n3. 延时\n4. 可靠性\n5. 负载\n6. 滴答数\n7. 花费\n\n分类：直连路由协议、静态路由协议、动态路由协议\n\n## 传输层\n### 名词解释\n1. 三次握手"
    },
    {
      "type": "text",
      "data": "<div style=\"text-align: center;\"><img src=\"quiver-image-url/AB1846DC9214FC6F982C292FEED468F8.jpg\" width=\"517\" height=\"304\" style=\"line-height: 1.4;\"></div>"
    },
    {
      "type": "markdown",
      "data": "2. 四次挥手"
    },
    {
      "type": "text",
      "data": "<div style=\"text-align: center;\"><img src=\"quiver-image-url/1492CDDCB870DE03123C7FA4FCB949CA.jpg\" width=\"507\" height=\"323\" style=\"line-height: 1.4;\"></div>"
    },
    {
      "type": "markdown",
      "data": "3. TCP可靠传输：TCP使用校验、序号、确认和重传来保证可靠传输。\n    1. 序号：保证数据能有序的提交给应用层\n    2. 确认：\n    3. 重传：当出现超时或冗余ACK时，会导致TCP对报文进行重传\n4. TCP流量控制：TCP提供一中基于滑动窗口协议的流量控制机制。在通信过程中，接收方根据自己接收缓存的大小，动态的调整发送方的发送窗口大小，这就是接收窗口rwnd，即调整TCP报文首部中的“窗口”字段值；来限制发送方向网络注入报文的速率。\n5. TCP拥塞控制：\n    1. 慢开始：令 cwnd＝1，每经过一个往返时延 RTT ，拥塞窗口 cwnd 就会加倍（呈指数形式增长），一直把拥塞窗口 cwnd 增大到一个规定的慢开始门限 ssthresh ，然后改用拥塞避免算法。\n    2. 拥塞避免：发送端的拥塞窗口 cwnd 每经过一个往返时延 RTT 就增加一个 MSS（最大报文段） 的大小，使 cwnd 按线性规律缓慢增长（加法增大），而当出现一次超时（网络拥塞），令慢开始门限 ssthresh 等于当前 cwnd的一半（乘法减小）。\n    3. 快重传：使用冗余 ACK 来检测丢包的发生。\n    4. 快恢复：当发送端接收到连续三个冗余ACK（重复确认），就执行“乘法减小”算法。将 cwnd 设置成 ssthresh 改变后的数值，然后开始执行拥塞避免算法（加法增大）。 \n\n### 比较\n\n－－| UDP | TCP\n----|-----|-----\n建立连接 |无需建立连接 |建立连接，且每一条TCP连接只能有两个端点，每一条TCP连接只能是点对点的\n可靠性 |尽最大努力交付，即不保证可靠交付 |提供可靠的交付服务，保证传送数据无差错、不丢失、不重复且有序\n首部长度 |8字节 |20字节 +\n首部结构 |16位源端口<br>16位目的端口<br>16位UDP长度<br>16位UDP检验和 |16位源端口<br>16位目的端口<br>4字节序号<br>4字节确认号<br>4位数据偏移（首部长度）<br>6位保留字段<br>紧急位URG、确认位ACK、推送位PSH、复位位RST、同步位SYN、终止位FIN<br>2字节窗口<br>2字节检验和<br>16位紧急指针<br>选项字段、填充字段\n\n－－|流量控制|拥塞控制\n----|--------|--------\n作用|防止过多的数据注入网络中 |抑制发送端发送数据的速率\n作用范围 |是一个全局性的过程，涉及所有的主机，所有的路由器，以及与降低网络传输性能有关的所有因素 |控制的往往是指点对点的通信量，即接受端控制发送端\n\n### 小贴士\n1. \n\n## 应用层\n\n## 综合\n\n### 名词解释\n1. AUX：辅助配置端口\n\n### 比较\n－－|集线器 |网桥 |交换机 |路由器 \n----|-------|-----|-------|------\n网络层次 |物理层 |数据链路层 |数据链路层 |网路层\n数据对象 |信号 |帧 |帧 |数据报\n功能实现 | |软件实现，使用存储转发进行转发 |硬件实现，采用专用的交换结构芯片 |\n工作方式 |半双工 | |全双工 |"
    }
  ]
}